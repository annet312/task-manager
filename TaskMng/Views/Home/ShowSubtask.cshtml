@model IEnumerable<TaskMng.Models.TaskView>

<tr>
    <td colspan="5">
        @if (Model.Any())
        {
            <table class="table">
            @foreach (var item in Model)
            {
                <tr id="task@(item.Id)">
                    <td>
                        <i class="fas fa-circle"></i>
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        <select id="status@(item.Id)" aria-describedby="basic-addon3" data-status="@(item.Status.Name)" onchange="setNewStatus(@item.Id)">
                            <option selected>@(item.Status.Name)</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" role="progressbar"
                                 aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:@item.Progress%">
                                @item.Progress%
                            </div>
                        </div>
                    </td>
                    <td>
                        <a href="#" title="Edit" onclick="editTask(@item.Id)" data-toggle="modal" data-target="#myModalEditTask">
                            <i class="far fa-edit"></i>
                        </a>
                        <a href="#" title="Delete" onclick="deleteTask(@item.Id)">
                            <i class="fas fa-trash"></i>
                        </a>
                    </td>
                </tr>
            }
            </table>
        }
        <div>
            <a href="#" title="Add subtask" data-toggle="modal" data-target="#myModalAddSubtask" onclick="saveParentTaskId(@ViewBag.ParentId)">
                <i class="fas fa-plus-circle"></i>
                Add subtask
            </a>
        </div>
    </td>
</tr>
