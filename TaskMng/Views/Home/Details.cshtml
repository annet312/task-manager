@model IEnumerable<TaskMng.Models.TaskView>

@{
    ViewBag.Title = "Details";
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div>
        <span style="font-size:40px">@Html.DisplayNameFor(model => model.First().Name) : </span>
        <span id="name-task" style="color:slategrey; font-size:40px">@Html.DisplayFor(model => model.First().Name)</span>
        @*<input id="new-name-task" type="text" class="hide" value="@Html.DisplayFor(model => model.First().Name)"/>*@
        <a href="#" title="Change name">
            <i style="font-size:20px; color:darkblue" class="fas fa-edit" onclick="changeNameTask('name-task','new-name-task')"></i>
        </a>
    </div>
    <div>
        @if (Model.Count() > 1)
        {
            <b style="font-size :medium">Subtasks</b>
            <table style="font-size :medium; counter-reset:initial">
                    @foreach (var item in Model.Skip(1))
                    {
                <tr style="counter-increment:inherit">
                    <td></td>
                    <td id="task@(item.Id)">@item.Name
                        <a href="#" title="Change name">
                            <i style="font-size:15px; color:darkblue" class="fas fa-edit" onclick="ChangeNameTask('task@(item.Id)')"></i>
                        </a>
                    </td>
                    <td>@item.Status</td>
                    <td>@item.Progress</td>
                    <td>
                        </td>
                </tr>
                     }
            </table>
        }
     </div>
 
 }

<div>
    @Html.ActionLink("Back to List", "Index")
</div>
<script>
    function changeNameTask(idold,idnew) {
        var changeComponent = document.getElementById(idold);
        $('#' + idold).hide();
        $('#' + idnew).show();

   
    }
</script>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
